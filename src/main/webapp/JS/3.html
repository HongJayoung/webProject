<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<style>
div {
	margin:10px;
	border: 1px solid blue;
	padding: 10px;
}
</style>
<script>
//호이스팅 : var, function() 선언을 맨먼저수행
alert("global v1 = "+v1); //undefined
call2();
var v1 = 1000;

window.onload = function() {
	obj = document.querySelector("#here");
}

function call1() {
	var a = 10;
	var b = "자바스크립트";
	
	//obj.innerHTML = "a = "+a+"<br>b = "+b;
	obj.innerHTML = `a=${a} <br> b=${b}`;
	//백틱`` : 이클립스 내부 브라우저 지원안됨
	
	//document.getElementById("here").innerHTML => id의 경우 아래처럼 생략이 가능 그러나 권장X
	//here.innerHTML = "a = "+a;
}

function call2() {
	//호이스팅 : var로 선언된 변수들을 함수의 맨위로 올린다.(즉, 먼저 수행함)
	obj.innerHTML = a; //undefined(에러는 아님)
	var a=100;
	obj.innerHTML += "<br>"+a;
	var a=200; //중복선언해도 상관없음
	obj.innerHTML += "<br>"+a;
}

function call2() {
	alert("call2함수추가");
}

function call3() {
	var num1 = 10;
	num2 = 20; //전역변수
	
	//let는 block내에서 유효한 변수 선언시 사용
	//ES5에서 추가(내부브라우저 안됨)
	for(let num3=1;num3<=10;num3++) {
		obj.innerHTML += "<br>num3="+num3;
	}
	//num3 is not defined
	obj.innerHTML += "<br>loop이후의 num3="+num3;
}

function call4() {
	obj.innerHTML = num2+num3;
}

function call5() {
	const MAX = 1000;
	obj.innerHTML = MAX;
	alert("MAX는\"!!!\" "+MAX+'입니다.');
}

</script>
</head>
<body>
<h1>JavaScript변수와 함수사용</h1>
<hr>
<button onclick="call1();">변수선언,백틱사용</button>
<button onclick="call2();">호이스팅</button>
<button onclick="call3();">의도하지않은 전역변수</button>
<button onclick="call4();">의도하지않은 전역변수 접근</button>
<button onclick="call5();">상수</button>
<div id="here">여기</div>
</body>
</html>