<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Insert title here</title>
<style>
/* #here {border: 5px dotted gray;} */
</style>
<script>
window.onload = function() {
	hh = document.getElementById("here");
	
	btn1.onclick = f1;
	btn2.onclick = f2;
	btn3.onclick = f3;
	btn4.onclick = f4;
	btn5.onclick = f5;
	btn6.onclick = f6;
	btn7.onclick = f7;
	btn8.onclick = f8;
	
	var arr = document.querySelectorAll("input[type='checkbox']");
	arr.forEach(function(elt, i, array) {
		elt.onchange = call2;
	});
};
function call2() {
	//alert("값이 바뀜");
	console.log(this.checked); 
	
	if(this.checked) {
		this.nextElementSibling.style.backgroundColor = "pink"; //nextSibling으로 해도됨
	} else {
		this.nextElementSibling.style.backgroundColor = "white";
	}
}

function f1() {
	var element_node = document.createElement("h2"); //<h2></h2>
	console.log(element_node);
	
	var text_node = document.createTextNode("Hello!"); 
	console.log(text_node);
	
	element_node.appendChild(text_node); //<h2>Hello!</h2>
	console.log(element_node);
	
	hh.appendChild(element_node);
}

function f2() {
	hh.innerHTML = "<h2>Hello!</h2>";
}

function f3() {
/* 	var imgsrc = "../images/gugudan.jpg";
	hh.innerHTML = `<img src='${imgsrc}'>`; */
	call();
}

function call() {
	var imgsrc = "../images/gugudan.jpg";
	var element_node = document.createElement("img"); //<img>
	//element_node.src = imgsrc;
	element_node.setAttribute("src", imgsrc);
	element_node.setAttribute("width", 300);
	element_node.setAttribute("height", 400);
	
	hh.appendChild(element_node);
}

function f4() {
	//HTMLCollection : 향상for, forEach 가능
	var arr = document.getElementsByName("food");
	arr.forEach(function(elt, i, array) {
		//alert(elt.value);
		//console.dir(elt);
		hh.innerHTML +=  elt.value + " => ";
		hh.innerHTML += elt.checked?"YES":"NO" + "<br>";
	});
}

function f5() {
	//NodeList type: 향상for, forEach불가 
	var arr = document.getElementsByTagName("button");
	for(var i=0;i<arr.length;i++) {
		hh.innerHTML += arr[i].innerHTML + "<br>";
	}
}

function f6() {
	var arr = document.querySelectorAll("button");
	arr.forEach(function(elt, i, array) {
		hh.innerHTML += elt.innerHTML + "<br>";
	});
	/* for(var i=0;i<arr.length;i++) {
		hh.innerHTML += arr[i].innerHTML + "<br>";
	} */
	
	hh.innerHTML += "<hr>";
	
	var arr = document.querySelectorAll("input[name='food']");
	arr.forEach(function(elt, i, array) {
		hh.innerHTML += elt.value + "<br>";
	});
	/* for(var i=0;i<arr.length;i++) {
		hh.innerHTML += arr[i].value + "<br>";
	} */
	
	hh.innerHTML += "<hr>";
	
	var arr = document.querySelectorAll("input:checked");
	arr.forEach(function(elt, i, array) {
		hh.innerHTML += elt.value + "<br>";
	});
 	/* for(var i=0;i<arr.length;i++) {
		hh.innerHTML += arr[i].value + "<br>";
	} */
}

function f7() {
	var arr = document.querySelectorAll("button");
	arr.forEach(function(elt, i, array) {
		if(i%2==0) {
			elt.style.backgroundColor = "blue";
			elt.style.color = "white";
		} else {
			elt.style.border = "1px solid red";
		}
	});
}

function f8() {
	//hh.parentNode.removeChild(hh);
	
	var obj = document.querySelector(".foodSelector");
	obj.parentNode.removeChild(obj);
	
	var arr = document.querySelectorAll("#here");
	arr.forEach(function(elt, i, array) {
		elt.parentNode.removeChild(elt);
	});
}
</script>
</head>
<body>
<h1>DOM(Document Object Model)</h1>
<button id = "btn1">동적노드생성(create)</button>
<button id = "btn2">동적노드생성(innerHTML)</button>
<button id = "btn3">동적노드생성(img)</button>
<button id = "btn4">getElementsByName</button>
<button id = "btn5">getElementsByTagName</button>
<button id = "btn6">querySelectorAll</button>
<button id = "btn7">style변경</button>
<button id = "btn8">node지우기</button>

<hr>
<div class="foodSelector">
<input type="checkbox" name="food" value="비빔밥"><span>비빔밥</span>
<input type="checkbox" name="food" value="샐러드"><span>샐러드</span>
<input type="checkbox" name="food" value="짜장면"><span>짜장면</span>
</div>

<hr>
<div id="here">1</div>
<div id="here">2</div>
<div id="here">3</div>
<div id="here">4</div>
<div id="here">5</div>

</body>
</html>